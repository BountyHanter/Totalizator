{% load extras %}

<p><strong>–ü—É–ª:</strong> {{ round.stats.total_pool }} $</p>
<p><strong>–ü—É–ª –¥–ª—è –≤—ã–ø–ª–∞—Ç:</strong> {{ round.stats.payout_pool }} $</p>
<p><strong>–î–∂–µ–∫–ø–æ—Ç –¥–æ:</strong> {{ round.stats.jackpot_before }} $</p>
<p><strong>–î–∂–µ–∫–ø–æ—Ç –ø–æ—Å–ª–µ:</strong> {{ round.stats.jackpot_after }} $</p>

<h6 class="mt-4">üèÜ –°–∞–º—ã–π –∫—Ä—É–ø–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à</h6>
{% if max_data.best_win %}
  <p>
    <strong>{{ max_data.best_win }} $</strong>
    (–æ–∫—É–ø–∞–µ–º–æ—Å—Ç—å: <strong>x{{ max_data.best_win_x }}</strong>)
  </p>
{% else %}
  <p>–ù–µ—Ç –≤—ã–∏–≥—Ä—ã—à–µ–π</p>
{% endif %}

<h6 class="mt-3">üî• –°–∞–º—ã–π –æ–∫—É–ø–∞–µ–º—ã–π –≤–∞—Ä–∏–∞–Ω—Ç</h6>
{% if max_data.best_x %}
  <p>
    <strong>x{{ max_data.best_x }}</strong>
    (–≤—ã–∏–≥—Ä—ã—à: <strong>{{ max_data.best_x_win }} $</strong>)
  </p>
{% else %}
  <p>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</p>
{% endif %}

<h6 class="mt-3">–ü–æ–±–µ–¥–∏—Ç–µ–ª–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:</h6>
<table class="table table-sm table-bordered">
  <thead>
    <tr><th>–£–≥–∞–¥–∞–Ω–æ</th><th>–í—ã–ø–ª–∞—Ç–∞</th><th>–ü–æ–±–µ–¥–∏—Ç–µ–ª–µ–π</th></tr>
  </thead>
  <tbody>
    {% for cat, data in winners.items %}
      <tr>
        <td>{{ cat }}</td>
        <td>
          {% with payouts|get:cat as pay %}
            {{ pay|default:"‚Äî" }} $
          {% endwith %}
        </td>
        <td>{{ data.count }}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>

<h6 class="mt-4">üíº –í–∞—à–∏ —Å—Ç–∞–≤–∫–∏</h6>
<p>–í—Å–µ–≥–æ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–æ: <strong>{{ total_staked }} $</strong></p>
<p>–í—Å–µ–≥–æ –≤—ã–∏–≥—Ä–∞–Ω–æ: <strong>{{ total_won }} $</strong></p>

<button
  type="button"
  class="btn btn-outline-primary mt-3"
  data-bs-toggle="modal"
  data-bs-target="#userVariantsModal{{ round.id }}"
>
  –ú–æ–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã
</button>
